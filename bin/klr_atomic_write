#!/usr/bin/env bash
set -euo pipefail
SRC="${1:?source file}"; DEST="${2:?dest file}"
TMP="$DEST.tmp"
cp "$SRC" "$TMP"
sync -f "$(dirname "$TMP")" 2>/dev/null || true
mv -f "$TMP" "$DEST"
echo "updated: $DEST"

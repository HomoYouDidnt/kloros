name: "voice_latency_speedup"
target_files:
  - "/home/kloros/src/kloros_voice.py"
  - "/home/kloros/src/tts/router.py"
limits:
  max_files_changed: 2
  max_patch_bytes: 30000
  time_budget_seconds: 600
fitness:
  goals:
    - id: "asr_latency_ms"
      weight: 0.5
    - id: "tts_latency_ms"
      weight: 0.3
    - id: "verify_pass"
      weight: 0.2
  hard_fail:
    - "verify_failed"
    - "voice_stack_guard_failed"
mutations:
  - "replace_env_default:KLR_ASR_MODEL:small->base"
  - "enable_streaming_xtts_chunks"
  - "adjust_vad_window:0.5->0.4"
guards:
  allow_paths:
    - "/home/kloros/src/"
  deny_globs:
    - "**/.venv/**"
    - "/home/kloros/src/kloros_memory/**"
    - "/home/kloros/src/security/**"
